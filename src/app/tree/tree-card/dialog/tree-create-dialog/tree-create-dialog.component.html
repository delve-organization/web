<div class="flex">
    <h1 mat-dialog-title class="dialog-title flex-1">{{'function.tree.edit.label.title.create' | translate}}</h1>

    <form #headerForm="ngForm">
        <mat-slide-toggle class="tree-toggle" [(ngModel)]="request.public" name="accessibility">
            <mat-icon matTooltip="{{(request.public ? 'function.tree.edit.tooltip.accessibility.public' : 'function.tree.edit.tooltip.accessibility.private') | translate}}">
                {{request.public ? 'lock_open' : 'lock'}}
            </mat-icon>
        </mat-slide-toggle>
    </form>
</div>

<div mat-dialog-content>
    <form #treeFrom="ngForm" [formGroup]="form">
        <mat-form-field class="form-full-width">
            <input [formControl]="titleField" matInput type="text" placeholder="{{'function.tree.edit.input.placeholder.title' | translate}}">
            <mat-error>{{getErrorMessage(titleField)}}</mat-error>
        </mat-form-field>

        <div class="flex">
            <h1 class="flex-1 mat-h3">{{'function.tree.edit.label.node.root' | translate}}</h1>
            <mat-slide-toggle class="tree-toggle" [disabled]="nodeToggleDisabled" [(ngModel)]="newNode" [ngModelOptions]="{standalone: true}">
                <mat-icon matTooltip="{{(newNode ? 'function.tree.edit.tooltip.node.new' : 'function.tree.edit.tooltip.node.existing') | translate}}">
                    {{newNode ? 'add' : 'device_hub'}}
                </mat-icon>
            </mat-slide-toggle>
        </div>
    </form>
</div>
<div mat-dialog-actions class="dialog-button-row">
    <button mat-flat-button color="basic" mat-dialog-close>
        <mat-icon>cancel</mat-icon>
        {{'function.tree.edit.button.cancel' | translate}}
    </button>
    <button mat-flat-button color="primary" (click)="onSaveClick()"
            [disabled]="(treeFrom.form.pristine && headerForm.form.pristine)|| !titleField.valid">
        <mat-icon>save</mat-icon>
        {{'function.tree.edit.button.save' | translate}}
    </button>
</div>
